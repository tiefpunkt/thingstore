(function(e){function t(e){e.hooks.drawSeries.push(function(e,t,n){function i(e,r,i,s,o){var u=e.points,a=e.pointsize,f=null,l=null,c=0,h=true,p,d;if(n.dashes.dashLength[0]){p=n.dashes.dashLength[0];if(n.dashes.dashLength[1]){d=n.dashes.dashLength[1]}else{d=p}}else{d=p=n.dashes.dashLength}t.beginPath();for(var v=a;v<u.length;v+=a){var m=u[v-a],g=u[v-a+1],y=u[v],b=u[v+1];if(m===null||y===null)continue;if(g<=b&&g<o.min){if(b<o.min)continue;m=(o.min-g)/(b-g)*(y-m)+m;g=o.min}else if(b<=g&&b<o.min){if(g<o.min)continue;y=(o.min-g)/(b-g)*(y-m)+m;b=o.min}if(g>=b&&g>o.max){if(b>o.max)continue;m=(o.max-g)/(b-g)*(y-m)+m;g=o.max}else if(b>=g&&b>o.max){if(g>o.max)continue;y=(o.max-g)/(b-g)*(y-m)+m;b=o.max}if(m<=y&&m<s.min){if(y<s.min)continue;g=(s.min-m)/(y-m)*(b-g)+g;m=s.min}else if(y<=m&&y<s.min){if(m<s.min)continue;b=(s.min-m)/(y-m)*(b-g)+g;y=s.min}if(m>=y&&m>s.max){if(y>s.max)continue;g=(s.max-m)/(y-m)*(b-g)+g;m=s.max}else if(y>=m&&y>s.max){if(m>s.max)continue;b=(s.max-m)/(y-m)*(b-g)+g;y=s.max}if(m!=f||g!=l){t.moveTo(s.p2c(m)+r,o.p2c(g)+i)}var w=s.p2c(m)+r,E=o.p2c(g)+i,S=s.p2c(y)+r,x=o.p2c(b)+i,T;function N(e){var t=Math.sqrt(Math.pow(S-w,2)+Math.pow(x-E,2));if(t<=e){return{deltaX:S-w,deltaY:x-E,distance:t,remainder:e-t}}else{var n=S>w?1:-1,r=x>E?1:-1;return{deltaX:n*Math.sqrt(Math.pow(e,2)/(1+Math.pow((x-E)/(S-w),2))),deltaY:r*Math.sqrt(Math.pow(e,2)-Math.pow(e,2)/(1+Math.pow((x-E)/(S-w),2))),distance:e,remainder:0}}}do{T=N(c>0?c:h?p:d);if(T.deltaX!==0||T.deltaY!==0){if(h){t.lineTo(w+T.deltaX,E+T.deltaY)}else{t.moveTo(w+T.deltaX,E+T.deltaY)}}h=!h;c=T.remainder;w+=T.deltaX;E+=T.deltaY}while(T.distance>0);f=y;l=b}t.stroke()}if(!n.dashes.show){return}var r=e.getPlotOffset();t.save();t.translate(r.left,r.top);t.lineJoin="round";var s=n.dashes.lineWidth,o=n.shadowSize;if(s>0&&o>0){t.lineWidth=o;t.strokeStyle="rgba(0,0,0,0.1)";var u=Math.PI/18;i(n.datapoints,Math.sin(u)*(s/2+o/2),Math.cos(u)*(s/2+o/2),n.xaxis,n.yaxis);t.lineWidth=o/2;i(n.datapoints,Math.sin(u)*(s/2+o/4),Math.cos(u)*(s/2+o/4),n.xaxis,n.yaxis)}t.lineWidth=s;t.strokeStyle=n.color;if(s>0){i(n.datapoints,0,0,n.xaxis,n.yaxis)}t.restore()})}e.plot.plugins.push({init:t,options:{series:{dashes:{show:false,lineWidth:2,dashLength:10}}},name:"dashes",version:"0.1b"})})(jQuery)
